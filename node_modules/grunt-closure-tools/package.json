{
  "name": "grunt-closure-tools",
  "description": "Google Closure Library Tools for grunt, Compiler, DepsWriter, Builder.",
  "version": "0.9.7",
  "homepage": "https://github.com/closureplease/grunt-closure-tools",
  "author": {
    "name": "Thanasis Polychronakis",
    "email": "thanpolas@gmail.com",
    "url": "http://thanpol.as"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/closureplease/grunt-closure-tools.git"
  },
  "bugs": {
    "url": "https://github.com/closureplease/grunt-closure-tools/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://github.com/closureplease/grunt-closure-tools/blob/master/LICENSE-MIT"
    }
  ],
  "main": "tasks/closureTools.js",
  "engines": {
    "node": ">=0.8.0"
  },
  "scripts": {
    "test": "grunt test"
  },
  "dependencies": {
    "grunt": "~0.4.5",
    "task-closure-tools": "~0.1.7"
  },
  "devDependencies": {
    "superstartup-closure-compiler": "0.1.6",
    "closure-tools": "0.1.4",
    "grunt-contrib-watch": "0.6.1",
    "grunt-contrib-nodeunit": "0.4.1",
    "sinon": "1.10.2",
    "grunt-release": "~0.7.0"
  },
  "keywords": [
    "gruntplugin",
    "Closure Compiler",
    "minification",
    "Closure Builder",
    "Google Closure Library",
    "Closure tools",
    "Closure DepsWriter",
    "Performance"
  ],
  "readme": "# Grunt Closure Tools\n\nGoogle Closure Tools for [grunt](https://github.com/gruntjs/grunt):\n\n* **[Compiler](https://developers.google.com/closure/compiler/)** Compile your JS code using the powerful google closure compiler\n* **[Builder](https://developers.google.com/closure/library/docs/closurebuilder)** Concatenate your JS codebase to a single file, optionally also compile it\n* **[DepsWriter](https://developers.google.com/closure/library/docs/depswriter)** Calculate dependencies of your JS files and generate `deps.js`\n\n[![Build Status](https://travis-ci.org/thanpolas/grunt-closure-tools.png?branch=master)](https://travis-ci.org/thanpolas/grunt-closure-tools)\n\n## Getting Started\nInstall the module with: `npm install grunt-closure-tools`\n\n```shell\nnpm install grunt-closure-tools --save-dev\n```\n\nThen register the task by adding the following line to your `grunt.js`:\n\n```javascript\ngrunt.loadNpmTasks('grunt-closure-tools');\n```\n\n#### Grunt 0.3.x compatibility\n\n[**Migration Guide** from 0.3.x grunt config to 0.4.x](docs/changes_from_0.3.x_to_0.4.x.md)\n\nTo get a grunt 0.3.x. compatible version please install with:\n```shell\nnpm install grunt-closure-tools@0.6.13 --save-dev\n```\n\nThe Grunt 0.3.x repository can be found frozen [in this branch](https://github.com/closureplease/grunt-closure-tools/tree/grunt-0.3.x-STABLE).\n\n## Documentation\n\nAll three tasks (compiler, builder and depswriter) are [multitasks](https://github.com/cowboy/grunt/blob/master/docs/types_of_tasks.md), so you can specify several targets depending on the complexity of your project.\n\n### Closure Compiler\n\nThe Closure Compiler task has two requirements.\n\n  1. **`compilerFile`** The location of the compiler. Find the latest compiler.jar file [here](http://dl.google.com/closure-compiler/compiler-latest.zip).\n  2. **`src`** The js files you want to compile.\n\nYou can fully configure how the compiler will behave, by setting directives in the `options`. Every key will be used as a directive for the compiler.\n\nYou can use grunt file syntax (`<config:...>` or `path/**/*.js`) for the `js` directive and for declaring externs, set in `options.externs`.\n\nRead more about the closure compiler [here](https://developers.google.com/closure/compiler/docs/api-tutorial3).\n\nThere is an NPM package that will install the closure compiler `.jar`, check out the [`superstartup-closure-compiler` repository](https://github.com/closureplease/superstartup-closure-compiler#readme), the README there will give you examples of how to plug it to this package.\n\n#### Sample Config for The Closure Compiler\n```javascript\nclosureCompiler:  {\n\n  options: {\n    // [REQUIRED] Path to closure compiler\n    compilerFile: 'path/to/closure/compiler.jar',\n\n    // [OPTIONAL] set to true if you want to check if files were modified\n    // before starting compilation (can save some time in large sourcebases)\n    checkModified: true,\n\n    // [OPTIONAL] Set Closure Compiler Directives here\n    compilerOpts: {\n      /**\n       * Keys will be used as directives for the compiler\n       * values can be strings or arrays.\n       * If no value is required use null\n       *\n       * The directive 'externs' is treated as a special case\n       * allowing a grunt file syntax (<config:...>, *)\n       *\n       * Following are some directive samples...\n       */\n       compilation_level: 'ADVANCED_OPTIMIZATIONS',\n       externs: ['path/to/file.js', '/source/**/*.js'],\n       define: [\"'goog.DEBUG=false'\"],\n       warning_level: 'verbose',\n       jscomp_off: ['checkTypes', 'fileoverviewTags'],\n       summary_detail_level: 3,\n       output_wrapper: '\"(function(){%output%}).call(this);\"'\n    },\n    // [OPTIONAL] Set exec method options\n    execOpts: {\n       /**\n        * Set maxBuffer if you got message \"Error: maxBuffer exceeded.\"\n        * Node default: 200*1024\n        */\n       maxBuffer: 999999 * 1024\n    },\n    // [OPTIONAL] Java VM optimization options\n    // see https://code.google.com/p/closure-compiler/wiki/FAQ#What_are_the_recommended_Java_VM_command-line_options?\n    // Setting one of these to 'true' is strongly recommended,\n    // and can reduce compile times by 50-80% depending on compilation size\n    // and hardware.\n    // On server-class hardware, such as with Github's Travis hook,\n    // TieredCompilation should be used; on standard developer hardware,\n    // d32 may be better. Set as appropriate for your environment.\n    // Default for both is 'false'; do not set both to 'true'.\n    d32: true, // will use 'java -client -d32 -jar compiler.jar'\n    TieredCompilation: true // will use 'java -server -XX:+TieredCompilation -jar compiler.jar'\n  },\n\n  // any name that describes your task\n  targetName: {\n\n    /**\n     *[OPTIONAL] Here you can add new or override previous option of the Closure Compiler Directives.\n     * IMPORTANT! The feature is enabled as a temporary solution to [#738](https://github.com/gruntjs/grunt/issues/738).\n     * As soon as issue will be fixed this feature will be removed.\n     */\n    TEMPcompilerOpts: {\n    }\n\n    // [OPTIONAL] Target files to compile. Can be a string, an array of strings\n    // or grunt file syntax (<config:...>, *)\n    src: 'path/to/file.js',\n\n    // [OPTIONAL] set an output file\n    dest: 'path/to/compiled_file.js'\n  }\n}\n```\nClosure compiler is typically used to produce a single output file out of multiple input files. For such scenario you specify `src` and `dest` properties as in the sample above.\nGrunt, however, has richer support for specifying **[source-destination mappings](http://gruntjs.com/configuring-tasks#files)** and you can leverage it for accomplishing\nother compilation scenarios, e.g. compiling a single output file out of each source file as demonstrates the sample below. To support also generation of source maps for this case\nyou can specify `create_source_map` in **compilerOpts** with value set to `null`. This causes passing the `dest` filename with suffix `.map` to closure compiler's `create_source_map` parameter\n(this behavior is valid only when source-destination file mapping is specified for processing).\n```javascript\nclosureCompiler: {\n    options: {\n\t\t// most options here omitted for brevity\n\n\t\tcompilerOpts: {\n\t\t\t// most options here omitted for brevity\n\n\t\t\tcreate_source_map: null,\n\n\t\t\t/**\n\t\t\t * When 'create_source_map' with value set to null is defined here AND the dest file is specified in\n\t\t\t * the form of source-destination file mapping, the name of dest file extended with '.map' is passed\n\t\t\t * as value of parameter 'create_source_map' to the compiler to enable a source map file per output file.\n\t\t\t * E.g. for\n\t\t\t *\t files: [\n\t\t\t *\t\t{src: 'lib/a.js', dest: 'build/a.min.js'},\n\t\t\t *\t\t{src: 'lib/b.js', dest: 'build/b.min.js'},\n\t\t\t *\t  ],\n\t\t\t * the value of 'create_source_map' would be 'build/a.min.js.map' for the first mapping\n\t\t\t * and 'build/b.min.js.map' for the second one.\n\t\t\t */\n\t\t}\n\t},\n\tminify: {\n\t\t/**\n\t\t * Following sample uses dynamically created mappings, where src array of globs is evaluated\n\t\t * and dest file is constructed for each source file by replacing its extension with '.min.js'.\n\t\t */\n\t\tfiles: [\n\t\t\t{\n\t\t\t\texpand: true,\n\t\t\t\tsrc: ['**/*.js', '!**/*.min.js'],\n\t\t\t\text: '.min.js'\n\t\t\t}\n\t\t]\n\t}\n}\n```\n\n### Closure Builder\n\nThe Closure Builder task has 3 required directives:\n\n  1. A way to find the `closurebuilder.py` file. One of the following two directives are required:\n    * **`closureLibraryPath`** A path to the Google Closure Library. From there we can infer the location of the closurebuilder.py file\n    * **`builder`** Directly reference the closurebuilder.py file\n  2. An input method must be defined. One of the following two directives is required:\n    * **`inputs`** String, array or grunt file syntax to define build targets\n    * **`namespaces`** String or array to define namespaces to build\n  3. The root targets of the closureBuilder. These are defined in the:\n    * **`src`** option of each target. Can be string or array.\n\nThe builder has the ability to compile *on-the-fly* the built files. To enable this option you need to set the option `compile` to boolean `true` and then set the location of the `compiler.jar` file via the `compiler` directive.\n\nYou can set all the compiler directives in the `compiler_options` object. The `js` directive is no longer required, as the builder takes care of that. The compiler directives follow the same logic as the ones in the Closure Compiler multitask described above.\n\nRead more about the closure builder in [this link](https://developers.google.com/closure/library/docs/closurebuilder).\n\n#### Sample Config for The Closure Builder\n\n```javascript\nclosureBuilder:  {\n  options: {\n    // [REQUIRED] To find the builder executable we need either the path to\n    //    closure library or directly the filepath to the builder:\n    closureLibraryPath: 'path/to/closure-library', // path to closure library\n    // [OPTIONAL] You can define an alternative path of the builder.\n    //    If set it trumps 'closureLibraryPath' which will not be required.\n    builder: 'path/to/closurebuilder.py',\n\n    // [REQUIRED] One of the two following options is required:\n    inputs: 'string|Array', // input files (can just be the entry point)\n    namespaces: 'string|Array', // namespaces\n\n    // [OPTIONAL] Define the Python binary:\n    pythonBinary: '/path/to/binary/python/',\n\n    // [OPTIONAL] The location of the compiler.jar\n    // This is required if you set the option \"compile\" to true.\n    compilerFile: 'path/to/compiler.jar',\n\n    // [OPTIONAL] output_mode can be 'list', 'script' or 'compiled'.\n    //    If compile is set to true, 'compiled' mode is enforced.\n    //    Default is 'script'.\n    output_mode: '',\n\n    // [OPTIONAL] if we want builder to perform compile\n    compile: false, // boolean\n\n    compilerOpts: {\n      /**\n      * Go wild here...\n      * any key will be used as an option for the compiler\n      * value can be a string or an array\n      * If no value is required use null\n      */\n    },\n    // [OPTIONAL] Set exec method options\n    execOpts: {\n       /**\n        * Set maxBuffer if you got message \"Error: maxBuffer exceeded.\"\n        * Node default: 200*1024\n        */\n       maxBuffer: 999999 * 1024\n    }\n\n  },\n\n  // any name that describes your operation\n  targetName: {\n\n    // [REQUIRED] paths to be traversed to build the dependencies\n    src: 'string|Array',\n\n    // [OPTIONAL] if not set, will output to stdout\n    dest: ''\n  }\n}\n```\n\n### Closure DepsWriter\n\nThe Closure DepsWriter task has 1 required directive:\n\n  1. A way to find the `depswriter.py` file. One of the following two directives is required:\n    * **`closureLibraryPath`** A path to the Google Closure Library. From there we can infer the location of the depswriter.py file\n    * **`depswriter`** Directly reference the depswriter.py file\n\nRead more about depswriter [here](https://developers.google.com/closure/library/docs/depswriter).\n\n#### Sample Config for The Closure DepsWriter\n\n```javascript\nclosureDepsWriter: {\n  options: {\n    // [REQUIRED] To find the depswriter executable we need either the path to\n    //    closure library or the depswriter executable full path:\n    closureLibraryPath: 'path/to/closure-library',\n\n    // [OPTIONAL] Define the full path to the executable directly.\n    //    If set it trumps 'closureLibraryPath' which will not be required.\n    depswriter: 'path/to/depswriter.py', // filepath to depswriter\n\n    // [OPTIONAL] Root directory to scan. Can be string or array\n    root: ['source/ss', 'source/closure-library', 'source/showcase'],\n\n    // [OPTIONAL] Root with prefix takes a pair of strings separated with a space,\n    //    so proper way to use it is to suround with quotes.\n    //    can be a string or array\n    root_with_prefix: '\"source/ss ../../ss\"',\n\n    // [OPTIONAL] string or array\n    path_with_depspath: ''\n\n\n  },\n   // any name that describes your operation\n  targetName: {\n\n    // [OPTIONAL] Set file targets. Can be a string, array or\n    //    grunt file syntax (<config:...> or *)\n    src: 'path/to/awesome.js',\n\n    // [OPTIONAL] If not set, will output to stdout\n    dest: ''\n\n  }\n}\n```\n\n## Release History\n\n- **v0.9.7**, *08 Jul 2014*\n  - Upgraded to task-closure-tools v0.1.7, new option `pythonBinary` defines the Python binary.\n- **v0.9.6**, *12 Mar 2014*\n  - Added test suite\n  - Support for ClosureBuilder new JVM flags Thanks [@robertdimarco](https://github.com/robertdimarco)\n- **v0.9.4**, *07 Mar 2014*\n  - Properly escapes compiler filename, will fix cases where spaces existed in the filename. Thanks [@tgirardi](https://github.com/tgirardi)\n- **v0.9.3**,  *22 Feb 2014*\n  - Added compile optimization switches 50%+ gains! Thank you [@probins](https://github.com/probins)\n  - Updated Closure Compiler's zip file link on readme, thank you [@ggundersen](https://github.com/ggundersen)\n  - Moved repository to thanpolas account\n- **v0.9.2**,  *13 Jan 2014*\n  - Fixed bug that optExecOptions was passed only to first file in list by [@stforek](https://github.com/stforek).\n- **v0.9.0**, *16 Dec 2013*\n  - No changes have been made, this is a stub version to indicate the change in the location of the core library, it has now been moved to its [own repo](https://github.com/thanpolas/task-closure-tools) and nmp package `task-closure-tools`.\n- **v0.8.7**, *12 Dec 2013*\n  - Added option to produce multiple SourceMap files when multiple source-dest compile targets are defined, thanks [@fhurta](https://github.com/fhurta)\n- **v0.8.4**, *31 Oct 2013*\n  - Minor change in callback signature of helper 'executeCommand'\n- **v0.8.3**, *22 Apr 2013*\n  - If checkModified: true issue fixed correctly.\n- **v0.8.2**, *22 Apr 2013*\n  - If checkModified: true and the files not chaged the task does not fail.\n- **v0.8.1**, *19 Apr 2013*\n  - Added temporary feature to enable merging and overriding of the `compilerOpts` in the `closureCompiler` targets. Feature will be available until [#738](https://github.com/gruntjs/grunt/issues/738) will be fixed.\n  - Added new option: execOpts. It allow to pass custom options to exec method.\n  - Bug fixes [1](https://github.com/closureplease/grunt-closure-tools/commit/3f3f8355e020b0591fa57b7656880f51e9ce5129).\n- **v0.8.0**, *28 Mar 2013*\n  - Changed internal API, it's a breaking change the package is required as an npm packaged.\n  - Colors changed in build stats output.\n- **v0.7.7**, *19 Mar 2013*\n  - Removed the compiling time optimization for now, it fails the travis tests.\n- **v0.7.6**, *19 Mar 2013*\n  - helpers.makeParam() - if param is an array, makeParam() should return a flat array after expanding its items with grunt.file.expand and not an array of arrays. By [@centi](https://github.com/centi) [#22](https://github.com/closureplease/grunt-closure-tools/pull/22)\n  - Added two options on the compile command to speed up compiling time. Tip from [@igorminar](https://github.com/IgorMinar) on [this commit](https://github.com/angular/angular.js/commit/3bd95dbb1a502575ae8250f49190f153442054eb).\n  - Moved repository to the *closureplease* organization.\n\n...read the full [changelog](CHANGELOG.md).\n\n## License\nCopyright (c) 2013 Thanasis Polychronakis\nLicensed under the [MIT license](LICENSE-MIT).\n\n[![githalytics.com alpha](https://cruel-carlota.pagodabox.com/5eb066586b681b39b82e56719f75faaa \"githalytics.com\")](http://githalytics.com/thanpolas/grunt-closure-tools)\n\n\n[![Bitdeli Badge](https://d2weczhvl823v0.cloudfront.net/closureplease/grunt-closure-tools/trend.png)](https://bitdeli.com/free \"Bitdeli Badge\")\n\n",
  "readmeFilename": "README.md",
  "_id": "grunt-closure-tools@0.9.7",
  "_from": "grunt-closure-tools@~0.9.7"
}
